{% extends "layout.html" %}
{% block content %}
<h1>Admin Â· Products</h1>
<p><a href="{{ url_for('admin_logout') }}">Logout</a></p>

<h2>Current Products</h2>
<table>
  <tr><th>ID</th><th>Name</th><th>Category</th><th>Price</th><th>Stock</th><th>Image</th></tr>
  {% for p in products %}
    <tr>
      <td>{{ p.id }}</td>
      <td>{{ p.name }}</td>
      <td>{{ p.category }}</td>
      <td>{{ p.price }}</td>
      <td>{{ p.stock }}</td>
      <td class="truncate">{{ p.image }}</td>
    </tr>
  {% endfor %}
</table>

<h2>Add / Edit</h2>
<form method="post" class="form">
  <p class="muted">To edit: enter an existing ID. To add: leave ID empty.</p>
  <label>ID (optional for add) <input name="id"></label>
  <label>Name <input name="name" required></label>
  <label>Category <input name="category"></label>
  <label>Price <input name="price" type="number" step="0.01" min="0" required></label>
  <label>Stock <input name="stock" type="number" min="0" required></label>
  <label>Image URL <input name="image"></label>
  <button type="submit">Save</button>
</form>
{% endblock %}
